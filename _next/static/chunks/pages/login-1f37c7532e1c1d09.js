(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(3828)}])},2133:function(e,r,t){"use strict";t.d(r,{y:function(){return g},Z:function(){return v}});let l="auth",s={API_LOGIN:"/login",API_SIGNUP:"/signup"};Object.freeze(s);var a=t(7935),n=t(6154),o=t(4389);let i=n.Z.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"}});i.interceptors.request.use(e=>{let r=o.Z.get();return{...e,headers:{Authorization:"Bearer ".concat(r)}}});var c=t(5945),u=t(2673),d=t(1163);let{API_LOGIN:m,API_SIGNUP:x}=s,{HOME:f,LOGIN:p}=a.Z,h=e=>i.post(m,e).then(e=>{let{data:r}=e;o.Z.set(r.token)}).catch(console.error),g=()=>{let e=(0,c.NL)(),r=(0,d.useRouter)();return(0,u.D)(h,{onError:e=>alert(e),onSuccess:()=>{var t;if(null==o.Z.get()||(null===(t=o.Z.get())||void 0===t?void 0:t.length)===0)return alert("인가되지 않은 사용자입니다.");r.push(f),e.invalidateQueries([l])}})},j=e=>i.post(x,e).then(e=>{let{data:r}=e;return alert("회원가입 완료 로그인해주세요.")}).catch(console.error),v=()=>{let e=(0,c.NL)(),r=(0,d.useRouter)();return(0,u.D)(j,{onError:e=>(alert("회원가입에 실패 하셨습니다."),e),onSuccess:()=>{alert("회원가입 성공"),r.push(p),e.invalidateQueries([l])}})}},3828:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return j}});var l=t(5893);t(7294);var s=t(7935),a=t(5675),n=t.n(a),o=t(7536),i=t(1664),c=t.n(i),u=t(9967),d=t(2133),m=t(1163),x=t(4389);let f=()=>{let e="w-full flex flex-1 border border-gary-200 p-2",{register:r,handleSubmit:t,formState:{isSubmitting:a,isDirty:i,errors:f}}=(0,o.cI)({mode:"onChange"}),{SIGNUP:p}=s.Z,h=(0,d.y)();return(0,m.useRouter)(),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-full flex flex-1 flex-col gap-16 items-center py-8",children:[(0,l.jsx)(n(),{width:200,height:50,className:"cursor-pointer",src:u.Z,alt:"메인로고"}),(0,l.jsx)("section",{className:"w-full flex flex-col gap-4 items-center justify-center px-8 py-4",children:(0,l.jsxs)("form",{className:"w-full flex flex-col gap-8",onSubmit:t(e=>{x.Z.remove(),h.mutate(e)}),children:[(0,l.jsxs)("div",{className:"w-full flex flex-col gap-2 items-start justify-center",children:[(0,l.jsx)("input",{id:"email",className:e,type:"email",placeholder:"이메일을 입력해주세요.","aria-invalid":i?f.email?"true":"false":void 0,...r("email",{required:"이메일은 필수 입력입니다.",pattern:{value:/\S+@\S+\.\S+/,message:"이메일 형식에 맞지 않습니다."}})}),f.email&&(0,l.jsx)("small",{role:"alert",children:f.email.message}),(0,l.jsx)("input",{id:"password",type:"password",placeholder:"비밀번호","aria-invalid":i?f.password?"true":"false":void 0,className:e,...r("password",{required:"비밀번호는 필수 입력입니다.",pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,message:"비밀번호를 8~16자로 영문 소문자, 숫자, 특수기호를 조합해서 사용하세요. "}})}),f.password&&(0,l.jsx)("small",{role:"alert",children:f.password.message})]}),(0,l.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,l.jsx)("button",{type:"submit",disabled:a,className:"w-full p-2 bg-main text-main-contra rounded-md",onClick:()=>{},children:"로그인"}),(0,l.jsx)(c(),{href:p,className:"text-center p-2 bg-default text-main-contra rounded-md hover:bg-main",children:"회원가입"})]})]})})]})})};var p=t(8193);let h=()=>(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"w-full flex flex-row gap-4 text-5xl items-center justify-center",children:[(0,l.jsx)(p.t0C,{className:"text-main cursor-pointer border boder-gray-400 rounded-full p-1 hover:text-white hover:bg-main"}),(0,l.jsx)(p.gXD,{className:"text-main cursor-pointer border boder-gray-400 rounded-full p-1 hover:text-white hover:bg-main"}),(0,l.jsx)(p.wod,{className:"text-main cursor-pointer border boder-gray-400 rounded-full p-1 hover:text-white hover:bg-main"}),(0,l.jsx)("button",{}),(0,l.jsx)("button",{})]})}),g=()=>(0,l.jsx)("div",{className:"flex flex-col gap-2 p-4 justify-center items-center",children:(0,l.jsxs)("main",{className:"w-[400px] max-h-[80vh] flex flex-col gap-4 bg-white p-4 rounded-md shadow-t-sm",children:[(0,l.jsx)(f,{}),(0,l.jsx)("p",{className:"w-full border-b-[0.5px] border-gray-400 bg-black"}),(0,l.jsx)(h,{})]})});var j=g}},function(e){e.O(0,[892,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);