(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{7805:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(1262)}])},6991:function(e,a,t){"use strict";t.d(a,{LT:function(){return r},vg:function(){return s}});let r="auth",s="book_add"},609:function(e,a){"use strict";let t={API_LOGIN:"/login",API_SIGNUP:"/signup",API_BOOKS_ADD:"/books/add"};Object.freeze(t),a.Z=t},6687:function(e,a,t){"use strict";t.d(a,{c:function(){return w},y:function(){return x}});var r=t(6991),s=t(609),l=t(7935),n=t(1285),i=t(4389),c=t(5945),o=t(2673),d=t(1163);let{API_LOGIN:u,API_SIGNUP:m}=s.Z,{HOME:p,LOGIN:h}=l.Z,f=e=>n.Z.post(u,e).then(e=>{let{data:a}=e;i.Z.set(a.token)}).catch(console.error),x=()=>{let e=(0,c.NL)(),a=(0,d.useRouter)();return(0,o.D)(f,{onError:e=>alert(e),onSuccess:()=>{var t;if(null==i.Z.get()||(null===(t=i.Z.get())||void 0===t?void 0:t.length)===0)return alert("인가되지 않은 사용자입니다.");a.push(p),e.invalidateQueries([r.LT])}})},g=e=>n.Z.post(m,e).then(e=>{let{data:a}=e;if(!1===a.success)return alert("중복된 아이디 입니다.");alert("회원가입 되었습니다.")}).catch(console.error),w=()=>{let e=(0,c.NL)();return(0,d.useRouter)(),(0,o.D)(g,{onError:e=>e,onSuccess:()=>{e.invalidateQueries([r.LT])}})}},1285:function(e,a,t){"use strict";t.d(a,{B:function(){return i}});var r=t(6154),s=t(4389);let l=s.Z.get(),n=r.Z.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)}});a.Z=n;let i=r.Z.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(l)}});i.interceptors.request.use(e=>({...e}))},1262:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return m}});var r=t(5893),s=t(7294),l=t(7536),n=t(5675),i=t.n(n),c=t(9967),o=t(6687);let d=()=>{let e="flex flex-1 hover:bg-main hover:bg-opacity-60 hover:text-main-contra px-4 py-2 items-center justify-center cursor-pointer",a="w-full flex flex-1 border border-gary-200 p-2",{register:t,handleSubmit:n,getValues:d,formState:{isSubmitting:u,isDirty:m,errors:p}}=(0,l.cI)({mode:"onChange"}),[h,f]=(0,s.useState)(0),x=(0,o.c)();return(0,r.jsx)("div",{className:"w-full flex flex-1 flex-col gap-16 items-center py-4",children:(0,r.jsxs)("section",{className:"w-full flex flex-col gap-4 items-center justify-center p-4",children:[(0,r.jsx)(i(),{width:280,height:50,className:"w-32 cursor-pointer",src:c.Z,alt:"메인로고"}),(0,r.jsxs)("form",{className:"w-full flex flex-col gap-4",onSubmit:n(e=>{let a={email:e.email,password:e.password,nickname:e.nickname,gender:e.gender,name:e.name,phone:e.phone,birth:e.birth};x.mutate(a)}),children:[(0,r.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,r.jsx)("input",{id:"email",className:a,type:"email",placeholder:"이메일을 입력","aria-invalid":m?p.email?"true":"false":void 0,...t("email",{required:"이메일은 필수 입력입니다.",pattern:{value:/\S+@\S+\.\S+/,message:"이메일 형식에 맞지 않습니다."}})}),p.email&&(0,r.jsx)("small",{role:"alert",children:p.email.message}),(0,r.jsx)("input",{id:"password",type:"password",placeholder:"비밀번호","aria-invalid":m?p.password?"true":"false":void 0,className:a,...t("password",{required:"비밀번호는 필수 입력입니다.",pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,message:"비밀번호를 8~16자로 영문 소문자, 숫자, 특수기호를 조합해서 사용하세요. "}})}),p.password&&(0,r.jsx)("small",{role:"alert",children:p.password.message}),(0,r.jsx)("input",{className:a,type:"password",id:"passwordConfirm",placeholder:"비밀번호 확인",...t("passwordConfirm",{required:"비밀번호는 필수 입력입니다.",pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,message:"비밀번호를 8~16자로 영문 대소문자, 숫자, 특수기호를 조합해서 사용하세요. "},validate:{check:e=>{if(d("password")!==e)return"비밀번호가 일치하지 않습니다."}}})}),p.passwordConfirm&&(0,r.jsx)("small",{role:"alert",children:p.passwordConfirm.message}),(0,r.jsx)("input",{className:a,type:"text",id:"name",placeholder:"이름 입력",...t("name",{required:"이름을 입력해주세요.",minLength:{value:3,message:"3글자 이상 10글자 이하로 입력해주세요."},maxLength:{value:10,message:"3글자 이상 10글자 이하로 입력해주세요."},pattern:{value:/^[가-힣]{3,10}$/,message:"한국어로만 가입가능 합니다."}})}),p.name&&(0,r.jsx)("small",{role:"alert",children:p.name.message}),(0,r.jsx)("input",{className:a,type:"text",id:"nickName",placeholder:"닉네임 입력",...t("nickname",{required:"닉네임을 입력해주세요.",minLength:{value:3,message:"3글자 이상 입력해주세요."},pattern:{value:/^[가-힣]{3,10}$/,message:"자음 모음 제외 및 한국어만 가능합니다."}})}),p.nickname&&(0,r.jsx)("small",{role:"alert",children:p.nickname.message}),(0,r.jsx)("input",{className:a,type:"text",id:"birth",placeholder:"생년월일 8자리 입력",...t("birth",{required:"생년월일 8자리를 입력해주세요.",pattern:{value:/^(19[0-9][0-9]|20\d{2})-(0[0-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/,message:"주민등록번호 8자리를 -포함해서 입력해주세요."}})}),p.birth&&(0,r.jsx)("small",{role:"alert",children:p.birth.message}),(0,r.jsx)("input",{className:a,type:"text",id:"phone",placeholder:"휴대폰번호 입력",...t("phone",{required:"휴대번호를 입력해주세요",pattern:{value:/^01([0|1|6|7|8|9])-?([0-9]{4})-?([0-9]{4})$/,message:"휴대번호 11자리를 `-`없이 입력해주세요."}})}),p.phone&&(0,r.jsx)("small",{role:"alert",children:p.phone.message}),(0,r.jsxs)("fieldset",{className:"w-full flex flex-row items-center border border-default rounded-md divide-x-2 overflow-hidden",children:[(0,r.jsx)("div",{className:"w-1/2 flex flex-row items-center justify-center",children:(0,r.jsxs)("label",{className:"".concat(e," ").concat(0===h?"bg-main text-main-contra":"bg-white"),htmlFor:"male",onClick:()=>{f(0)},children:["남성",(0,r.jsx)("input",{id:"male",checked:0===h,className:"hidden",...t("gender",{required:!0}),type:"radio",value:"M"})]})}),(0,r.jsx)("div",{className:"w-1/2 flex flex-row items-center justify-center",children:(0,r.jsxs)("label",{className:"".concat(e," ").concat(1===h?"bg-main text-main-contra":"bg-white"),htmlFor:"female",onClick:()=>{f(1)},children:["여성",(0,r.jsx)("input",{id:"female",checked:1===h,className:"hidden",...t("gender",{required:!0}),type:"radio",value:"F",placeholder:"여성"})]})})]})]}),(0,r.jsx)("button",{type:"submit",disabled:u,className:"w-full p-2 bg-main text-main-contra rounded-md",children:"회원가입"})]})]})})},u=()=>(0,r.jsx)("div",{className:"w-full flex flex-col gap-2 p-4 justify-center items-center",children:(0,r.jsx)("main",{className:"w-[400px] h-full flex flex-col gap-4 bg-white p-4 rounded-md shadow-t-sm",children:(0,r.jsx)(d,{})})});var m=u}},function(e){e.O(0,[892,774,888,179],function(){return e(e.s=7805)}),_N_E=e.O()}]);