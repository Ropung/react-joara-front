(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(3828)}])},6991:function(e,t,r){"use strict";r.d(t,{LT:function(){return s},vg:function(){return a}});let s="auth",a="book_add"},609:function(e,t){"use strict";let r={API_LOGIN:"/login",API_SIGNUP:"/signup",API_BOOKS_ADD:"/books/add"};Object.freeze(r),t.Z=r},6687:function(e,t,r){"use strict";r.d(t,{c:function(){return b},y:function(){return h}});var s=r(6991),a=r(609),l=r(7935),n=r(1285),o=r(4389),i=r(5945),c=r(2673),u=r(1163);let{API_LOGIN:d,API_SIGNUP:f}=a.Z,{HOME:m,LOGIN:x}=l.Z,p=e=>n.Z.post(d,e).then(e=>{let{data:t}=e;o.Z.set(t.token)}).catch(console.error),h=()=>{let e=(0,i.NL)(),t=(0,u.useRouter)();return(0,c.D)(p,{onError:e=>alert(e),onSuccess:()=>{var r;if(null==o.Z.get()||(null===(r=o.Z.get())||void 0===r?void 0:r.length)===0)return alert("인가되지 않은 사용자입니다.");t.push(m),e.invalidateQueries([s.LT])}})},g=e=>n.Z.post(f,e).then(e=>{let{data:t}=e;if(!1===t.success)return alert("중복된 아이디 입니다.");alert("회원가입 되었습니다.")}).catch(console.error),b=()=>{let e=(0,i.NL)();return(0,u.useRouter)(),(0,c.D)(g,{onError:e=>e,onSuccess:()=>{e.invalidateQueries([s.LT])}})}},1285:function(e,t,r){"use strict";r.d(t,{B:function(){return o}});var s=r(6154),a=r(4389);let l=a.Z.get(),n=s.Z.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)}});t.Z=n;let o=s.Z.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(l)}});o.interceptors.request.use(e=>({...e}))},3828:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(5893);r(7294);var a=r(7935),l=r(5675),n=r.n(l),o=r(7536),i=r(1664),c=r.n(i),u=r(9967),d=r(6687),f=r(4389);let m=()=>{let e="w-full flex flex-1 border border-gary-200 p-2",{register:t,handleSubmit:r,formState:{isSubmitting:l,isDirty:i,errors:m}}=(0,o.cI)({mode:"onChange"}),{SIGN_UP:x}=a.Z,p=(0,d.y)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"w-full flex flex-1 flex-col gap-16 items-center py-8",children:[(0,s.jsx)(n(),{width:200,height:50,className:"cursor-pointer",src:u.Z,alt:"메인로고"}),(0,s.jsx)("section",{className:"w-full flex flex-col gap-4 items-center justify-center px-8 py-4",children:(0,s.jsxs)("form",{className:"w-full flex flex-col gap-8",onSubmit:r(e=>{f.Z.remove(),p.mutate(e)}),children:[(0,s.jsxs)("div",{className:"w-full flex flex-col gap-2 items-start justify-center",children:[(0,s.jsx)("input",{id:"email",className:e,type:"email",placeholder:"이메일을 입력해주세요.","aria-invalid":i?m.email?"true":"false":void 0,...t("email",{required:"이메일은 필수 입력입니다.",pattern:{value:/\S+@\S+\.\S+/,message:"이메일 형식에 맞지 않습니다."}})}),m.email&&(0,s.jsx)("small",{role:"alert",children:m.email.message}),(0,s.jsx)("input",{id:"password",type:"password",placeholder:"비밀번호","aria-invalid":i?m.password?"true":"false":void 0,className:e,...t("password",{required:"비밀번호는 필수 입력입니다.",pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{8,}$/,message:"비밀번호를 8~16자로 영문 소문자, 숫자, 특수기호를 조합해서 사용하세요. "}})}),m.password&&(0,s.jsx)("small",{role:"alert",children:m.password.message})]}),(0,s.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,s.jsx)("button",{type:"submit",disabled:l,className:"w-full p-2 bg-main text-main-contra rounded-md",onClick:()=>{},children:"로그인"}),(0,s.jsx)(c(),{href:x,className:"text-center p-2 bg-default text-main-contra rounded-md hover:bg-main",children:"회원가입"})]})]})})]})})};var x=r(8193);let p=()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"w-full flex flex-row gap-4 text-5xl items-center justify-center",children:[(0,s.jsx)(x.t0C,{className:"text-main cursor-pointer border boder-gray-400 rounded-full p-1 hover:text-white hover:bg-main"}),(0,s.jsx)(x.gXD,{className:"text-main cursor-pointer border boder-gray-400 rounded-full p-1 hover:text-white hover:bg-main"}),(0,s.jsx)(x.wod,{className:"text-main cursor-pointer border boder-gray-400 rounded-full p-1 hover:text-white hover:bg-main"}),(0,s.jsx)("button",{}),(0,s.jsx)("button",{})]})}),h=()=>(0,s.jsx)("div",{className:"flex flex-col gap-2 p-4 justify-center items-center",children:(0,s.jsxs)("main",{className:"w-[400px] max-h-[80vh] flex flex-col gap-4 bg-white p-4 rounded-md shadow-t-sm",children:[(0,s.jsx)(m,{}),(0,s.jsx)("p",{className:"w-full border-b-[0.5px] border-gray-400 bg-black"}),(0,s.jsx)(p,{})]})});var g=h}},function(e){e.O(0,[892,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);