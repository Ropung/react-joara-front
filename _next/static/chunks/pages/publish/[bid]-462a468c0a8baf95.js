(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[586],{2514:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/publish/[bid]",function(){return l(1805)}])},6742:function(e,t,l){"use strict";l.d(t,{Ex:function(){return o},JA:function(){return a},ZN:function(){return r}});let o=[{url:"/logo/bookLogo.webp",alt:"이미지01",bannerId:1},{url:"/logo/bookLogo.webp",alt:"이미지02",bannerId:2},{url:"/logo/bookLogo.webp",alt:"이미지03",bannerId:3}],a={dummy_short:"Lorem ipsum dolor sit amet consectetur adipisicing elit",dummy_long:"Lorem ipsum dolor sit amet consectetur adipisicing elit Lorem ipsum dolor sit amet consectetur adipisicing elitLorem ipsum dolor sit amet consectetur adipisicing elitLorem ipsum dolor sit amet consectetur adipisicing elitLorem ipsum dolor sit amet consectetur adipisicing elit"},r=[{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지01",bookId:1,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지02",bookId:2,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지03",bookId:3,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지03",bookId:4,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지03",bookId:5,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지03",bookId:5,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지03",bookId:5,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지03",bookId:5,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지03",bookId:5,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지03",bookId:5,category:"",tag:""},{url:"http://image.yes24.com/goods/106211628/XL",alt:"이미지03",bookId:5,category:"",tag:""}]},1805:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return g}});var o=l(5893),a=l(6742),r=l(8993),s=l(9303),n=l.n(s);let i=e=>new Promise((t,l)=>{if(!e){let e=Error("Files are null");l(e);return}let o=e[0];n()(o,(e,l)=>{var a;let r=null==l?void 0:null===(a=l.exif)||void 0===a?void 0:a.get("Orientation");if(console.debug("origin Orinentation Data: ",r),!((null==l?void 0:l.imageHead)&&(null==l?void 0:l.exif)&&1!==r)){console.debug("resolveEXIFRotate: 이미지를 회전하지 않아도 됨."),t(o);return}null===n()||void 0===n()||n().writeExifData(l.imageHead,l,"Orientation",1),null==e||e.toBlob(e=>{null===n()||void 0===n()||n().replaceHead(e,null==l?void 0:l.imageHead,e=>{e.name=o.name;let l=new File([e],"rotatedImg.jpg",{type:"image/jpeg"});console.debug("new file: ",l),console.debug("origin file: ",o),n().parseMetaData(l,function(e){var t;console.debug("New Orientation data: ",null==e?void 0:null===(t=e.exif)||void 0===t?void 0:t.get("Orientation"))}),t(l)})},"image/jpeg","image/jpg")},{meta:!0,orientation:!0,canvas:!0})});var d=l(5675),c=l.n(d),u=l(7294);let m=()=>{let[e,t]=(0,u.useState)(null),[l,s]=(0,u.useState)(null),[n,d]=(0,u.useState)(),m=(0,u.useRef)(null),g=(0,u.useRef)(null),[x,f]=(0,u.useState)("");(0,r.Z)(g.current,x);let p=e=>{var t;let l=null===(t=e.target)||void 0===t?void 0:t.value;f(l)};(0,u.useEffect)(()=>{e&&i(e).then(s).catch(console.error)},[e]);let h=(0,u.useCallback)(e=>m.current&&d(m.current.value=""),[]);return(0,u.useCallback)(e=>{if(!l)return;let t=new FormData;t.append("paramName",l)},[l]),(0,o.jsx)("div",{className:"w-full flex items-center justify-center p-8",children:(0,o.jsxs)("section",{className:"w-[90%] flex flex-col gap-4 bg-white rounded-md p-8 shadow-md",children:[(0,o.jsxs)("section",{className:"flex flex-row justify-between items-center",children:[(0,o.jsx)("h1",{className:"font-bold text-2xl",children:"작품수정"}),(0,o.jsx)("button",{className:"font-bold py-4 px-6 rounded-xl border shadow-md hover:text-main-contra hover:bg-main",onClick:()=>{},children:"작품 등록하기"})]}),(0,o.jsxs)("section",{className:"w-full flex flex-col gap-4 text-lg",children:[(0,o.jsxs)("div",{className:"w-full flex flex-row justify-between items-center border border-gray-400 rounded-md shadow-md p-4 checked-bg:bg-main",children:[(0,o.jsx)("p",{className:"flex flex-1",children:"작품성향"}),(0,o.jsxs)("select",{className:"w-[20%] border border-gray-400 rounded-lg p-2 text-sm",children:[(0,o.jsx)("option",{value:"defalut",children:"선택안함"}),(0,o.jsx)("option",{value:"man",children:"남성향"}),(0,o.jsx)("option",{value:"woman",children:"여성향"})]})]}),(0,o.jsxs)("div",{className:"w-full flex flex-row justify-between items-center border border-gray-400 rounded-md shadow-md p-4 ",children:[(0,o.jsx)("p",{className:"flex flex-1",children:"카테고리"}),(0,o.jsxs)("select",{className:"w-[20%] border border-gray-400 rounded-lg p-2 text-sm",children:[(0,o.jsx)("option",{value:"defalut",children:"판타지"}),(0,o.jsx)("option",{value:"man",children:"무협"}),(0,o.jsx)("option",{value:"woman",children:"라이트노벨"}),(0,o.jsx)("option",{value:"woman",children:"게임"})]})]})]}),(0,o.jsxs)("div",{className:"w-full flex flex-col gap-4",children:[(0,o.jsxs)("div",{className:"w-full flex flex-row justify-center items-center border border-gray-400 rounded-md shadow-md p-4 gap-6",children:[(0,o.jsx)("p",{className:"w-[15%] font-bold",children:"작품명"}),(0,o.jsx)("input",{type:"text",className:"flex flex-1 border border-gray-400 rounded-lg py-2 px-4",placeholder:"20자 이하로 작성 가능합니다.",maxLength:20})]}),(0,o.jsxs)("div",{className:"w-full h-fit flex flex-row justify-center items-center border border-gray-400 rounded-md shadow-md p-4 gap-6",children:[(0,o.jsxs)("div",{className:"w-[15%] flex flex-col justify-start items-start",children:[(0,o.jsx)("p",{className:"w-full font-bold",children:"작품소개"}),(0,o.jsx)("span",{className:"text-sm text-gray-400",children:"(줄거리)"})]}),(0,o.jsx)("textarea",{ref:g,className:"w-full min-h-[15vh] flex flex-1 border border-gray-400 rounded-lg px-4 py-2 text-sm outline-none resize-none placeholder:text-base",rows:1,placeholder:"작품 줄거리를 입력하세요.",value:x,onChange:p})]}),(0,o.jsxs)("div",{className:"w-full flex flex-row justify-center items-center border border-gray-400 rounded-md shadow-md p-4 gap-6",children:[(0,o.jsxs)("div",{className:"w-[15%] flex flex-col gap-1",children:[(0,o.jsx)("p",{className:"font-bold",children:"표지이미지"}),(0,o.jsx)("p",{className:"text-sm text-gray-400",children:"(200 x 305px)"})]}),(0,o.jsxs)("section",{className:"flex flex-1 gap-4 p-2 text-sm",children:[(0,o.jsx)(c(),{width:200,height:305,src:n||"http://image.yes24.com/goods/106211628/XL",className:"w-[100px] border rounded-md ".concat(n?"border-gray-300":""),alt:n?"미리보기 이미지(Image Preview)":"선택된 사진이 없을 때는 눈 덮인 산을 멀리서 담은 샘플 이미지"}),(0,o.jsxs)("section",{className:"w-full flex flex-col gap-2 overflow-hidden",children:[(0,o.jsxs)("fieldset",{className:"w-full flex flex-col whitespace-nowrap text-gray-400",children:[(0,o.jsx)("p",{className:"font-bold text-dark",children:"*주의사항"}),(0,o.jsx)("p",{children:a.JA.dummy_short})]}),(0,o.jsxs)("fieldset",{className:"w-full flex flex-row gap-2 justify-start",children:[(0,o.jsx)("input",{className:"hidden",type:"file",accept:"image/*",ref:m,onChange:e=>{var l;let o=new FileReader;o.readAsDataURL(e.target.files[0]),t(null===(l=e.target)||void 0===l?void 0:l.files),o.onload=e=>{var t;let l=null===(t=e.target)||void 0===t?void 0:t.result;l&&d(l)}}}),n?(0,o.jsx)("button",{className:"font-bold px-4 py-2 rounded-xl border shadow-md hover:text-main-contra hover:bg-danger",onClick:h,children:"삭제"}):(0,o.jsx)("button",{className:"font-bold px-4 py-2 rounded-xl border shadow-md hover:text-main-contra hover:bg-main",onClick:e=>{var t;return null===(t=m.current)||void 0===t?void 0:t.click()},children:"사진 선택"})]})]})]})]}),(0,o.jsx)("button",{className:"font-bold py-4 px-6 rounded-xl border shadow-md hover:text-main-contra bg-main text-main-contra hover:bg-black",onClick:()=>{},children:"작품 등록하기"})]})]})})};var g=m},8993:function(e,t,l){"use strict";var o=l(7294);let a=(e,t)=>{(0,o.useEffect)(()=>{if(e){e.style.height="0px";let t=e.scrollHeight;e.style.height=t+"px"}},[e,t])};t.Z=a}},function(e){e.O(0,[303,774,888,179],function(){return e(e.s=2514)}),_N_E=e.O()}]);